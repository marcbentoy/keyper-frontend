import { Record, columns } from "./components/columns"
import { DataTable } from "./components/data-table"

async function getData(): Promise<Record[]> {
  // const url = "http://192.168.101.77:8080/api/record"

  // const response = await fetch(url, { cache: "no-store" })

  // if (response.status == 404) return []

  // const responseData = await response.json()

  // const formattedData = responseData.data.map((item: any) => ({
  //   id: item.ID,
  //   student: item.StudentName,
  //   room: item.RoomName,
  //   building: item.BuildingName,
  //   type: item.type,
  //   datetime: {
  //     date: new Date(item.CreatedAt).toLocaleDateString(),
  //     time: new Date(item.CreatedAt).toLocaleTimeString(),
  //   },
  // }))

  const responseData = {
    data: [
      {
        CreatedAt: "2023-05-26T23:49:51.22335+08:00",
        UpdatedAt: "2023-05-26T23:49:51.22335+08:00",
        DeletedAt: null,
        ID: "a24cf52b-4d14-4b6f-9b23-38459e444ecd",
        type: "return",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:49:31.852655+08:00",
        UpdatedAt: "2023-05-26T23:49:31.852655+08:00",
        DeletedAt: null,
        ID: "227e3ce6-23d4-4f2d-b7bb-27db27f0b3e0",
        type: "borrow",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:42:49.73898+08:00",
        UpdatedAt: "2023-05-26T23:42:49.73898+08:00",
        DeletedAt: null,
        ID: "9ebe7b7f-3cb8-4baf-b29f-a7a9c1c9575f",
        type: "return",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:42:21.686626+08:00",
        UpdatedAt: "2023-05-26T23:42:21.686626+08:00",
        DeletedAt: null,
        ID: "15c69bca-4e34-4ec6-8b5d-442aaa6ef31c",
        type: "borrow",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:41:26.902497+08:00",
        UpdatedAt: "2023-05-26T23:41:26.902497+08:00",
        DeletedAt: null,
        ID: "6efef730-6685-48b8-80c2-f57c611f51a9",
        type: "return",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:41:09.495972+08:00",
        UpdatedAt: "2023-05-26T23:41:09.495972+08:00",
        DeletedAt: null,
        ID: "ccd0e835-859a-4016-a557-82b50fd3a3fa",
        type: "borrow",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:37:38.242177+08:00",
        UpdatedAt: "2023-05-26T23:37:38.242177+08:00",
        DeletedAt: null,
        ID: "bd18dbc4-af2b-436b-848c-8efa14b12538",
        type: "return",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:37:35.37644+08:00",
        UpdatedAt: "2023-05-26T23:37:35.37644+08:00",
        DeletedAt: null,
        ID: "1aa78311-fea2-4e70-a256-1108f5c044d6",
        type: "borrow",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:28:35.663866+08:00",
        UpdatedAt: "2023-05-26T23:28:35.663866+08:00",
        DeletedAt: null,
        ID: "f32ccfd3-5356-4a62-aa35-4594a58f6a79",
        type: "return",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:28:07.964203+08:00",
        UpdatedAt: "2023-05-26T23:28:07.964203+08:00",
        DeletedAt: null,
        ID: "5c7ae807-db08-4711-84e0-c72c71d33d6c",
        type: "borrow",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:27:50.669042+08:00",
        UpdatedAt: "2023-05-26T23:27:50.669042+08:00",
        DeletedAt: null,
        ID: "47ad2b8c-15a4-42fd-b3a8-24a50c9ae322",
        type: "return",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:19:59.985393+08:00",
        UpdatedAt: "2023-05-26T23:19:59.985393+08:00",
        DeletedAt: null,
        ID: "29761ce1-4b15-46f2-b69a-0252e2d5238c",
        type: "borrow",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:19:11.526653+08:00",
        UpdatedAt: "2023-05-26T23:19:11.526653+08:00",
        DeletedAt: null,
        ID: "a9f305c5-fef2-4866-b971-16162cbd39f9",
        type: "return",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:17:03.243168+08:00",
        UpdatedAt: "2023-05-26T23:17:03.243168+08:00",
        DeletedAt: null,
        ID: "296929ec-de2d-4099-ae0c-83743c3130c4",
        type: "borrow",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:16:53.466921+08:00",
        UpdatedAt: "2023-05-26T23:16:53.466921+08:00",
        DeletedAt: null,
        ID: "c5ec8a85-9b65-4bea-bc38-29ee09549436",
        type: "return",
        StudentID: "0cd8b655-1709-4864-8727-95fb201656f7",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Roble, Junnie Mae",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:16:49.79067+08:00",
        UpdatedAt: "2023-05-26T23:16:49.79067+08:00",
        DeletedAt: null,
        ID: "3d9cefdc-a079-47c5-8df0-090bf3720c63",
        type: "borrow",
        StudentID: "0cd8b655-1709-4864-8727-95fb201656f7",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Roble, Junnie Mae",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:07:34.678155+08:00",
        UpdatedAt: "2023-05-26T23:07:34.678155+08:00",
        DeletedAt: null,
        ID: "b25277e6-8be3-4504-8379-eef32a59efba",
        type: "return",
        StudentID: "0cd8b655-1709-4864-8727-95fb201656f7",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Roble, Junnie Mae",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:07:25.579507+08:00",
        UpdatedAt: "2023-05-26T23:07:25.579507+08:00",
        DeletedAt: null,
        ID: "a17a6f12-4d9a-4d5d-8788-bf1eb071708c",
        type: "borrow",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:07:18.167266+08:00",
        UpdatedAt: "2023-05-26T23:07:18.167266+08:00",
        DeletedAt: null,
        ID: "c11210e2-7597-4f6f-8dc3-2ad51a264dac",
        type: "return",
        StudentID: "0cd8b655-1709-4864-8727-95fb201656f7",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Roble, Junnie Mae",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T23:07:12.990104+08:00",
        UpdatedAt: "2023-05-26T23:07:12.990104+08:00",
        DeletedAt: null,
        ID: "806c8597-2db8-4091-b2c1-a373b0f29d72",
        type: "borrow",
        StudentID: "0cd8b655-1709-4864-8727-95fb201656f7",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Roble, Junnie Mae",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T22:36:12.363895+08:00",
        UpdatedAt: "2023-05-26T22:36:12.363895+08:00",
        DeletedAt: null,
        ID: "9ce407a9-1278-4f37-a47b-0742462557de",
        type: "return",
        StudentID: "0cd8b655-1709-4864-8727-95fb201656f7",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Roble, Junnie Mae",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T22:35:24.894054+08:00",
        UpdatedAt: "2023-05-26T22:35:24.894054+08:00",
        DeletedAt: null,
        ID: "56f7294c-a7f7-4fc9-a8d6-88649d91b906",
        type: "borrow",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
      {
        CreatedAt: "2023-05-26T22:32:43.951726+08:00",
        UpdatedAt: "2023-05-26T22:32:43.951726+08:00",
        DeletedAt: null,
        ID: "086db130-fb99-4ff5-860b-cd2d970ae3b4",
        type: "return",
        StudentID: "22aaf13e-6db5-4d16-965c-2261b9a4c14e",
        KeyID: "d2e1ed8a-a7a1-41de-aff0-7c2e0dd72217",
        StudentName: "Bentoy, Marc Vincent",
        RoomName: "EN-CME-101",
        BuildingName: "Engineering",
      },
    ],
  }

  const formattedData = responseData.data.map((item: any) => ({
    id: item.ID,
    student: item.StudentName,
    room: item.RoomName,
    building: item.BuildingName,
    type: item.type,
    datetime: new Date(item.CreatedAt),
  }))

  console.log(formattedData)

  return formattedData
}

export default async function DemoPage() {
  const data = await getData()

  return (
    <div className="container mx-auto py-10">
      <DataTable columns={columns} data={data} />
    </div>
  )
}
